<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>shortly</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/png" href="/favicon.png">
</head>
<body class="bg-white text-black min-h-screen flex items-center justify-center">
  <div class="container mx-auto px-4 sm:px-8 py-8 w-full max-w-4xl">

    <h1 class="text-3xl sm:text-4xl font-bold text-center mb-8 sm:mb-10">ðŸ”— Shortly</h1>


    <form action="/shortUrls" method="POST" class="flex flex-col sm:flex-row gap-4 mb-8 sm:mb-10">
      <input 
        required 
        placeholder="Enter your full URL..." 
        type="url" 
        name="fullUrl" 
        id="fullUrl" 
        class="flex-1 px-4 py-3 rounded-xl border-2 border-black bg-white text-black
               shadow-[4px_4px_0px_#000] focus:outline-none focus:ring-2 focus:ring-gray-300"
      >
      <button 
        type="submit" 
        class="px-4 py-3 sm:py-1 border border-black rounded-md shadow-[3px_3px_0_0_rgba(0,0,0,1)] 
               active:translate-x-[1px] active:translate-y-[1px] active:shadow-[1px_1px_0_0_rgba(0,0,0,1)]
               w-full sm:w-auto"
      >
        Shrink
      </button>
    </form>


    <div class="flex flex-col gap-4">
      <% shortUrls.forEach(shortUrl => { %>
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 rounded-xl bg-white border-2 border-black shadow-[4px_4px_0px_#000] gap-2">

          <div class="truncate w-full sm:w-1/3">
            <a href="<%= shortUrl.full %>" target="_blank" class="underline hover:text-gray-500 break-words">
              <%= shortUrl.full %>
            </a>
          </div>

          <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-1/3">
            <a href="https://shortly.vishaldev.me/<%= shortUrl.short %>" target="_blank" 
               class="underline font-medium hover:text-gray-500 break-words">
              shortly.vishaldev.me/<%= shortUrl.short %>
            </a>
            <button 
              type="button" 
              onclick="navigator.clipboard.writeText('https://shortly.vishaldev.me/<%= shortUrl.short %>')" 
              class="px-3 py-1 border border-black rounded-md shadow-[3px_3px_0_0_rgba(0,0,0,1)] 
                     active:translate-x-[1px] active:translate-y-[1px] active:shadow-[1px_1px_0_0_rgba(0,0,0,1)]"
            >
              Copy
            </button>
          </div>

          <div class="font-semibold mt-2 sm:mt-0 sm:ml-2">clicks: <%= shortUrl.clicks %></div>
        </div>
      <% }) %>
    </div>

  </div>
</body>
</html>
